<%- include('../common/header') %>
  <%- include('../common/sidebar') %>

    <!-- BEGIN: Content-->
    <div class="app-content content ">
      <div class="content-wrapper container-xxl p-0">
        <div class="content-header row"></div>
        <div class="content-body">
          <div class="main-content">
            <section class="section">
              <div class="section-header">
                <h1>Dashboard</h1>
              </div>
              <div class="row">
                <div class="col-lg-3 col-md-5 col-sm-5 col-12">
                  <div class="card" onclick="location.href='/userList'" style="cursor: pointer;">
                    <div class="card-header">
                      <div>
                        <h2 class="fw-bolder mb-0">
                          <%=users%>
                        </h2>
                        <p class="card-text">Users</p>
                      </div>
                      <div class="avatar bg-light-primary p-50 m-0">
                        <div class="avatar-content">
                          <svg width="400px" height="500px" viewBox="0 10 60 65" xmlns="http://www.w3.org/2000/svg" version="1.1">

                            <path style="fill:#427794;stroke:#2A424F" d="M 22,43 C 18,48 6.5,45 4.2,56 2,62 2,81 14,79 13,64 12,57 12,57 c 0,0 1,14 2,21 9,4 24,4 35,-1 0,-8 -1,-13 0,-18 0,-5 0,19 0,19 0,0 6,2 8,-5 3,-10 5,-24 -9,-28 -9,-1 -7,-2 -8,-2 -2,0 -18,0 -18,0 z"/>
                            <path style="fill:#C29B82;stroke:#693311" d="m 23,38 c 0,0 1,3 -1,5 3,4 11,8 18,0 -1,-2 -1,-2 -1,-5 0,0 -16,0 -16,0 z"/>
                            <path style="fill:#CDA68E;stroke:#693311" d="M 31,42 C 17,42 7.6,4.8 31,4.2 55,4.1 44,42 31,42 z"/>
                            <path style="fill:#553932;stroke:#311710" d="M 17,26 C 14,16 14,3.2 31,2.4 44,3.1 49,15 44,26 44,21 45,19 43,16 39,15 33,16 28,11 27,15 15,13 17,26 z"/>
                          </svg>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
                <div class="col-lg-3 col-md-5 col-sm-5 col-12">
                  <div class="card" onclick="location.href='/subuser_List'" style="cursor: pointer;">
                    <div class="card-header">
                      <div>
                        <h2 class="fw-bolder mb-0">
                          <%=subUser%>
                        </h2>
                        <p class="card-text">Sub-user</p>
                      </div>
                      <div class="avatar bg-light-primary p-50 m-0">
                        <div class="avatar-content">
                         <!-- License: PD. Made by Mary Akveo: https://maryakveo.com/ -->
                         <svg width="800px" height="800px" viewBox="20 10 90 100" xmlns="http://www.w3.org/2000/svg" version="1.1">
                          <path style="fill:#5F3E20;stroke:#311710" d="m 45,65 c 5,-8 0,-25 3,-31 3,-10 7,-16 16,-16 10,0 16,8 20,17 1,2 0,6 2,11 1,4 -1,8 -1,10 0,5 -1,3 2,9 -5,13 -34,10 -42,0 z"/>
                          <path style="fill:#D8933B;stroke:#2A424F" d="m 58,60 c -5,5 -18,3 -20,13 -2,6 -1,25 11,24 -1,-16 -3,-23 -3,-23 0,0 2,15 3,21 9,5 23,5 35,-1 0,-6 -1,-13 0,-18 1,-5 0,20 0,20 0,0 7,1 9,-6 2,-9 4,-22 -7,-25 -9,-3 -10,-5 -12,-5 -1,0 -16,0 -16,0 z"/>
                          <path style="fill:#DEB89F;stroke:#693311" d="m 58,54 c 0,0 1,3 0,7 3,3 10,8 16,0 -1,-4 -1,-4 -1,-7 0,0 -15,0 -15,0 z"/>
                          <path style="fill:#DBBFA8;stroke:#693311" d="M 66,59 C 52,59 43,21 66,20 86,21 79,59 66,59 z"/>
                          <path style="fill:#5F3E20" d="m 63,27 c -3,5 -7,8 -12,9 -4,1 2,-17 13,-17 5,0 13,3 15,15 -6,1 -14,-5 -16,-7"/>
                        
                        </svg>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
                
                <div class="col-lg-3 col-md-5 col-sm-5 col-12">
                  <div class="card" onclick="location.href='/babyList'" style="cursor: pointer;">
                    <div class="card-header">
                      <div>
                        <h2 class="fw-bolder mb-0">
                          <%=babies%>
                        </h2>
                        <p class="card-text">Babies</p>
                      </div>
                      <div class="avatar bg-light-primary p-50 m-0">
                        <div class="avatar-content">
                          <svg width="800px" height="800px" viewBox="0 0 36 36" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="iconify iconify--twemoji" 
                          preserveAspectRatio="xMidYMid meet"><path fill="#FFDC5D" d="M36 18.5c0-1.639-.97-3.004-2.273-3.385C32.367 7.658 25.85 2 18 2C10.15 2 3.633 7.658 2.273 15.115C.97 15.496 0 16.861 0 18.5c0 1.736 1.087 3.168 2.51 3.442C4.269 28.868 10.527 34 18 34c7.473 0 13.731-5.132 15.49-12.058C34.912 21.668 36 20.236 36 18.5z"></path>
                          <path fill="#662214" d="M18 25c-3 0-4-1-4 1s2 4 4 4s4-2 4-4s-1-1-4-1z"></path><circle fill="#662214" cx="22.5" cy="18.5" r="2.5"></circle><circle fill="#662214" cx="13.5" cy="18.5" r="2.5"></circle><path fill="#FFF" d="M18 26h2v1s0 1-1 1s-1-1-1-1v-1z"></path><path fill="#EF9645" d="M17.982 11h-.031a4.362 4.362 0 0 1-3.135-1.304a3.739 3.739 0 0 1-1.076-2.847a.992.992 0 0 1 1.057-.935c.551.033.972.508.939 1.06c-.029.495.155.983.503 1.336a2.425 2.425 0 0 0 1.725.729c.653-.036 1.27-.247 1.735-.705a3.312 3.312 0 0 0 .032-4.677a4.391 4.391 0 0 0-6.202-.042a.999.999 0 1 1-1.404-1.424a6.394 6.394 0 
                            0 1 9.03.062a5.29 5.29 0 0 1-.052 7.486c-.836.826-1.945 1.261-3.121 1.261z"></path></svg>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
                <div class="col-lg-3 col-md-5 col-sm-5 col-12">
                  <div class="card" onclick="location.href='/activityList'" style="cursor: pointer;">
                    <div class="card-header">
                      <div>
                        <h2 class="fw-bolder mb-0">
                          <%=activity%>
                        </h2>
                        <p class="card-text">Activity</p>
                      </div>
                      <div class="avatar bg-light-primary p-50 m-0">
                        <div class="avatar-content">
                          <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 512 512" style="enable-background:new 0 0 512 512;" xml:space="preserve">
                            <circle style="fill:#006C70;" cx="256" cy="256" r="256"/>
                            <rect x="142.222" y="170.667" style="fill:#FFE98F;" width="227.556" height="199.111"/>
                            <path style="fill:#FFD300;" d="M170.667,369.778H130.3c-9.125,0-16.522-7.397-16.522-16.52V227.556h56.889V369.778z"/>
                            <path style="fill:#F4A200;" d="M381.702,369.778h-40.369V227.556h56.889v125.702C398.222,362.38,390.827,369.778,381.702,369.778z"/>
                             <path style="fill:#FFFFFF;" d="M271.046,239.569c0-5.835-3.325-10.892-8.182-13.388v-3.432c1.153-1.477,1.848-3.332,1.848-5.351 c0-4.81-3.899-8.711-8.711-8.711c-4.811,0-8.711,3.899-8.711,8.711c0,2.02,0.693,3.874,1.848,5.351v3.432c-4.858,2.494-8.182,7.551-8.182,13.388H271.046z"/>
                            <path style="fill:#EA348B;" d="M278.568,247.324h-45.134v-6.611c0-2.581,2.093-4.673,4.673-4.673h35.788c2.581,0,4.674,2.093,4.674,4.673v6.611H278.568z"/>
                            <path style="fill:#C11D68;" d="M278.568,240.712c0-2.581-2.093-4.674-4.674-4.674h-18.468v11.283h23.142V240.712z"/>
                            <path style="fill:#1FDBE2;" d="M279.717,339.473h-47.433c-4.039,0-7.313-3.274-7.313-7.313v-78.464c0-4.039,3.274-7.313,7.313-7.313
                            h47.433c4.039,0,7.313,3.274,7.313,7.313v78.464C287.03,336.2,283.757,339.473,279.717,339.473z"/>
                            <path style="fill:#FF9811;" d="M199.111,113.202v85.909h28.444v-74.416c0-6.03,4.887-10.917,10.917-10.917h35.054 c6.03,0,10.917,4.887,10.917,10.917v74.416h28.444v-85.909c0-15.393-12.478-27.869-27.87-27.869H226.98 C211.589,85.333,199.111,97.811,199.111,113.202z"/>
                            <path style="fill:#FF5023;" d="M285.02,85.333h- .594v28.444h18.101c6.03,0,10.918,4.887,10.918,10.917v74.416h28.444v-85.907 C312.889,97.811,300.411,85.333,285.02,85.333z"/>
                            </svg>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>

                <div class="col-lg-3 col-md-5 col-sm-5 col-12">
                  <div class="card" onclick="location.href='/activityList'" style="cursor: pointer;">
                    <div class="card-header">
                      <div>
                        <h2 class="fw-bolder mb-0">
                          <%=customActivity%>
                        </h2>
                        <p class="card-text">Customized Activity</p>
                      </div>
                      <div class="avatar bg-light-primary p-50 m-0">
                        <div class="avatar-content">
                          <!-- Replace the existing SVG code with your new icon's SVG code -->
                          <!-- Example of a new SVG icon -->
                         <!-- License: PD. Made by CFPB: https://github.com/cfpb/design-system -->
                          <svg fill="#000000" width="800px" height="800px" viewBox="-3.5 0 19 19" xmlns="http://www.w3.org/2000/svg" class="cf-icon-svg"><path d="M10.05 3.828a1.112 1.112 0 0 1 1.11 1.108v10.562a1.112 1.112 0 0 1-1.11 
                            1.108h-8.1a1.112 1.112 0 0 1-1.11-1.108V4.936a1.112 1.112 0 0 1 1.11-1.108h.415v1.108h-.414l-.002.002v10.558l.002.002h8.098l.002-.002V4.938l-.002-.002h-.414V3.828h.416zm-.98 4.076H2.82v1.108h6.25zm0 2.337H2.82v1.108h6.25zm0 
                            2.337H2.82v1.108h6.25zm-.543-8.935v1.25a.476.476 0 0 1-.475.476H3.948a.476.476 0 0 1-.475-.475v-1.25a.476.476 0 0 1 .475-.476h.697V1.87a.476.476 0 0 1 .475-.475h1.76a.476.476 0 0 1 .475.475v1.3h.697a.476.476 0 0 1 .475.474zM6.55 
                            2.67a.554.554 0 1 0-.554.554.554.554 0 0 0 .554-.554z"/>
                          </svg>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
                <div class="col-lg-3 col-md-5 col-sm-5 col-12">
                  <div class="card" onclick="location.href='/Goal_List' " style="cursor: pointer;">
                    <div class="card-header">
                      <div>
                        <h2 class="fw-bolder mb-0">
                          <%=weekly_goals%>
                        </h2>
                        <p class="card-text">Weekly Goals</p>
                      </div>
                      <div class="avatar bg-light-primary p-50 m-0">
                        <div class="avatar-content">
                          <svg width="800px" height="800px" viewBox="0 0 50 50" data-name="Layer 1" id="Layer_1" xmlns="http://www.w3.org/2000/svg"><defs><style>.cls-1{fill:#231f20;}.cls-2{fill:#ff8e5a;}.cls-3{fill:#d12200;}.cls-4{fill:#ffffff;}.cls-5{fill:#ffba50;}.cls-6{fill:#00a1d3;}</style></defs>
                            <title/><path class="cls-1" d="M43,8.277H40.548V7a2.5,2.5,0,0,0-2.5-2.5H37A2.5,2.5,0,0,0,34.5,7V8.277H15.5V7A2.5,2.5,0,0,0,13,4.5H11.952A2.5,2.5,0,0,0,9.452,7V8.277H7a2.5,2.5,0,0,0-2.5,2.5V43A2.5,2.5,0,0,0,7,45.5H43A2.5,2.5,0,0,0,45.5,43V10.777A2.5,2.5,0,0,0,43,8.277Z"/>
                            <rect class="cls-2" height="6.446" rx="1.5" width="4.044" x="35.503" y="5.5"/><rect class="cls-2" height="6.446" rx="1.5" width="4.044" x="10.452" y="5.5"/><path class="cls-3" d="M5.5,10.777A1.5,1.5,0,0,1,7,9.277H9.452v1.169a2.5,2.5,0,0,0,2.5,2.5H13a2.5,2.5,0,0,0,2.5-2.5V9.277H34.5v1.169a2.5,2.5,0,0,0,2.5,2.5h1.045a2.5,2.5,0,0,0,2.5-2.5V9.277H43a1.5,1.5,0,0,1,1.5,1.5v3.691H5.5Z"/>
                            <path class="cls-4" d="M43,44.5H7A1.5,1.5,0,0,1,5.5,43V15.468h39V43A1.5,1.5,0,0,1,43,44.5Z"/><path class="cls-1" d="M39.625,21.126l-2.493-.62-.06-2.568a.5.5,0,0,0-.813-.379L33.2,20.007a12.983,12.983,0,1,0,3.479,4.506L39.817,22a.5.5,0,0,0-.192-.875Z"/><path class="cls-5" d="M36.135,20.649,33.7,22.613l-.039-1.692,2.435-1.95Z"/><path class="cls-6" d="M25,41.844a11.9,11.9,0,1,1,7.658-20.992l.06,2.552-1.712,1.378a7.869,7.869,0,1,0,.607.8l1.735-1.4,2.356.586A11.763,11.763,0,0,1,36.9,29.946,11.912,11.912,0,0,1,25,41.844Z"/>
                            <path class="cls-4" d="M24.542,30.372a.5.5,0,0,0,.469.325.491.491,0,0,0,.175-.032c.079-.029.191-.073,5.642-4.455a6.962,6.962,0,1,1-.6-.8c-2.812,2.259-5.194,4.164-5.468,4.356A.5.5,0,0,0,24.542,30.372Z"/>
                            <path class="cls-5" d="M35.968,23.8l-1.643-.409,2.421-1.953,1.658.412Z"/></svg>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
                <div class="col-lg-3 col-md-5 col-sm-5 col-12">
                  <div class="card" onclick="location.href='/subscriptionList'" style="cursor: pointer;">
                    <div class="card-header">
                      <div>
                        <h2 class="fw-bolder mb-0">
                          <%=subscription%>
                        </h2>
                        <p class="card-text">Subscriptions</p>
                      </div>
                      <div class="avatar bg-light-primary p-50 m-0">
                        <div class="avatar-content">
                          <svg width="800px" height="800px" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <g clip-path="url(#clip0_901_3008)">
                            <path d="M31 6V11V16V21V26V31H12C18.07 31 23 26.07 23 20C23 13.93 18.07 9 12 9C10.23 9 8.56 9.42 7.08 10.16L7 10V1H31V6Z" fill="#668077"/>
                            <path d="M12 9C18.07 9 23 13.93 23 20C23 26.07 18.07 31 12 31C5.93 31 1 26.07 1 20C1 15.7 3.48 11.97 7.08 10.16C8.56 9.42 10.23 9 12 9Z" fill="#FFC44D"/>
                            <path d="M15 17C15 15.343 13.657 14 12 14M12 14C10.343 14 9 15.343 9 17C9 18.657 10.343 20 12 20C13.657 20 15 21.343 15 23C15 24.657 13.657 26 12 26M12 14V13M12 26C10.343 26 9 24.657 9 23M12 26V27M22 31H31V29M25 26H31V24M26 21H31V19M26 16H31V14M23 11H31V9M10 6H31V1H7V6M23 20C23 13.926 18.074 9 12 9C5.926 9 1 13.926 1 20C1 26.074 5.926 31 12 31C18.074 31 23 26.074 23 20Z" stroke="#000000" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            </g>
                            <defs>
                            <clipPath id="clip0_901_3008">
                            <rect width="32" height="32" fill="white"/>
                            </clipPath>
                            </defs>
                            </svg>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
                
              </div>
              <div class="row mb-3">
                <div class="col-md-6">
                  <div class="card card-body h-100">
                    <h3 class="m-b-0">Users</h3>
                    <div id="chart01" class="w-100"></div>
                  </div>
                </div>
                <div class="col-md-6">
                  <div class="card card-body h-100">
                    <h3 class="m-b-0">Baby</h3>
                    <div id="chart02" class="w-100"></div>
                  </div>
                </div>
              </div>
            </section>
          </div>
        </div>
      </div>
    </div>
    <%- include('../common/footer') %>

      <script>

        setTimeout(function () {
          $("div.msg").fadeOut();
        }, 2000);

        let userCounts = JSON.parse('<%= JSON.stringify(userCounts) %>'); // Convert the string to an array
        var options = {
          series: [{
            name: 'User',
            data: userCounts
          }],
          chart: {
            height: 350,
            type: 'bar',
          },
          plotOptions: {
            bar: {
              borderRadius: 10,
              dataLabels: {
                position: 'top',
              },
            }
          },
          dataLabels: {
            enabled: true,
            formatter: function (val) {
              return val;
            },
            offsetY: -20,
            style: {
              fontSize: '12px',
              colors: ["#304758"]
            }
          },

          xaxis: {
            categories: ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"],
            position: 'top',
            axisBorder: {
              show: false
            },
            axisTicks: {
              show: false
            },
            crosshairs: {
              fill: {
                type: 'gradient',
                gradient: {
                  colorFrom: '#D8E3F0',
                  colorTo: '#BED1E6',
                  stops: [0, 100],
                  opacityFrom: 0.4,
                  opacityTo: 0.5,
                }
              }
            },
            tooltip: {
              enabled: true,
            }
          },
          yaxis: {
            axisBorder: {
              show: false
            },
            axisTicks: {
              show: false,
            },
            labels: {
              show: false,
              formatter: function (val) {
                return val;
              }
            }

          },
          title: {
            text: 'User Monthly Record in 2024',
            floating: true,
            offsetY: 330,
            align: 'center',
            style: {
              color: '#0c3d86'
            }
          }
        };
        var chart = new ApexCharts(document.querySelector("#chart01"), options);
        chart.render();
        let babyCount = JSON.parse('<%= JSON.stringify(babyCount) %>'); // Convert the string to an array
        var options = {
          series: [{
            name: 'User',
            data: babyCount
          }],
          chart: {
            height: 350,
            type: 'bar',
          },
          plotOptions: {
            bar: {
              borderRadius: 10,
              dataLabels: {
                position: 'top',
              },
            }
          },
          dataLabels: {
            enabled: true,
            formatter: function (val) {
              return val;
            },
            offsetY: -20,
            style: {
              fontSize: '12px',
              colors: ["#304758"]
            }
          },

          xaxis: {
            categories: ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"],
            position: 'top',
            axisBorder: {
              show: false
            },
            axisTicks: {
              show: false
            },
            crosshairs: {
              fill: {
                type: 'gradient',
                gradient: {
                  colorFrom: '#D8E3F0',
                  colorTo: '#BED1E6',
                  stops: [0, 100],
                  opacityFrom: 0.4,
                  opacityTo: 0.5,
                }
              }
            },
            tooltip: {
              enabled: true,
            }
          },
          yaxis: {
            axisBorder: {
              show: false
            },
            axisTicks: {
              show: false,
            },
            labels: {
              show: false,
              formatter: function (val) {
                return val;
              }
            }

          },
          title: {
            text: 'Baby Monthly Record in 2024',
            floating: true,
            offsetY: 330,
            align: 'center',
            style: {
              color: '#0c3d86'
            }
          }
        };
        var chart = new ApexCharts(document.querySelector("#chart02"), options);
        chart.render();
      </script>