<%- include('../common/header') %>
<%- include('../common/sidebar') %>
  

<!-- BEGIN: Content-->
<div class="app-content content ">
  <div class="content-wrapper container-xxl p-0">
    <div class="content-body">
      <section id="multiple-column-form">
        <div class="row justify-content-center">
          <div class="col-md-10 col-12 ">
            <div class="card">
              <div class="card-header">
                <h4 class="card-title"> Add plan details </h4>
              </div>
              <div class="card-body" style="margin-top: 15px;" >
                <form class="form form-vertical" action="/createPlanImage" method="POST" id="profile"
                  enctype="multipart/form-data">
                  <div class="mb-1 row">
                    <div class="col-sm-2">
                      <label class="col-form-label new_lable" for="name">Image</label>
                    </div>
                    <div class="col-sm-12">
                    <input type="file" id="image" name="image" accept="image/*" class="form-control" name="image" value="" required>

                    </div>
                  </div>
                  <div class="mb-1 row">
                    <div class="col-sm-2">
                      <label class="col-form-label new_lable" for="name">Description</label>
                    </div>
                    <div class="col-sm-12">
                      <textarea class="content form-control" id="editor" name="description"></textarea>
                    </div>
                  </div>                 
                  <div class="col-12">
                    <div class="col-sm-9 offset-sm-5">
                      <button type="submit"
                        class="btn btn-primary waves-effect waves-float waves-light">Add</button>
                    </div>
                  </div>
                </form>
              </div>
            </div>
          </div>
        </div>
      </section>
    </div>
  </div>
</div>
<div class="sidenav-overlay"></div>
<div class="drag-target"></div>
<%- include('../common/footer') %>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-validate/1.19.3/jquery.validate.min.js"
          integrity="sha512-37T7leoNS06R80c8Ulq7cdCDU5MNQBwlYoy1TX/WUsLFC2eYNqtKlV0QjH7r8JpG/S0GUMZwebnVFLPd6SU5yg=="
          crossorigin="anonymous" referrerpolicy="no-referrer"></script>

<script>
  $(document).ready(function () {

    jQuery.validator.addMethod("noSpace", function (value, element) {
      return value == '' || value.trim().length != 0;
    }, "No space allowed");

    $('#profile').validate({
      rules: {
        name: {
          required: true,
          noSpace: true,
          maxlength: 60
        },
        price: {
          required: true,
          noSpace: true,
        //   minlength: 10,
          maxlength: 10
        },
        tenure: {
          required: true,
          noSpace: true,
        //   minlength: 10,
        //   maxlength: 15
        },

      },

      errorElement: "div",
      errorClass: "jqval-error",
      errorPlacement: function (error, element) {
        error.insertAfter(element);
        error.slideDown(400);
        error.animate({
          opacity: 1
        }, {
          queue: false,
          duration: 700
        });
      },

      submitHandler: function (form) {
        var error = $(".assign_error_div").text();
        if (!error) {
          form.submit();
        }
      }
    });
  });
</script>

<script src="https://cdn.ckeditor.com/ckeditor5/35.2.0/classic/ckeditor.js"></script>

<script>
  ClassicEditor
      .create(document.querySelector('#editor'))
      .then(editor => {
          console.log(editor);
      })
      .catch(error => {
          console.error(error);
      });
</script>
