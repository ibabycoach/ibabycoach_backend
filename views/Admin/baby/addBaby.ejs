
<%- include('../common/header') %>
<%- include('../common/sidebar') %>


<!-- BEGIN: Content-->
<div class="app-content content ">

  <div class="content-wrapper container-xxl p-0">
  <div class="content-body">
      <section id="multiple-column-form">
        <div class="row">
          <div class="col-md-12 col-12">
            <div class="card-body">
              <section id="basic-horizontal-layouts">
                <div class="row justify-content-center">
                  <div class="col-md-10 col-12 ">
                    <div class="card">
                      <div class="card-header">
                        <h4 class="card-title">Add User</h4>
                      </div>
                      <br>
                      <div class="card-body">
                        <form class="form form-vertical" id="createUser" action="/createUser" method="POST" enctype="multipart/form-data">
                          <div class="row">
                            <div class="col-12">
                              <div class="mb-1">
                            <div class="form-group col-12 floating-addon">
                              <label for="name">Parent Name</label>
                                <select name="" id="" class="form-control">
                                  <option >-- Select Parent--</option>
                                  <%userdata.forEach(function(data,i) { %>
                                    <option value="<%= data._id %>"><%= data.name %></option>
                                    <%})%>
                                </select>
                              </div>
                              </div>
                            </div>
                            <div class="col-12">
                              <div class="mb-1">
                                <label class="new_lable new_lable" for="title">Name</label>
                                <input type="text" id="name" class="form-control" name="name"placeholder="Baby Name">
                              </div>
                            </div>
                            <div class="col-12">
                              <div class="mb-1">
                                <label class="new_lable new_lable" for="title">Select Gender</label>
                                <select onchange="park()" name="basicSelect" id="basicSelect" class="form-select">
                                  <option value="" disabled selected>-- Select --</option>
                                  <option value="1">Male</option>
                                  <option value="2">Female</option>
                                </select>
                              </div>
                            </div>
                            <div class="col-12">
                              <div class="mb-1">
                                <label class="new_lable new_lable" for="phone">Birthday</label>
                                <input type="date" id="birthday" class="form-control" name="birthday"placeholder="DD/MM/YYYY">
                              </div>
                            </div>
                            <div class="col-12">
                              <div class="mb-1">
                                <label class="new_lable new_lable" for="image">Image</label>
                                <input type="file" id="image" class="form-control" name="image">
                              </div>
                            <div class="col-sm-9 offset-sm-5">
                              <button type="submit" class="btn btn-primary me-1 waves-effect waves-float waves-light">Submit</button>
                            </div>
                          </div>
                        </form>
                      </div>
                    </div>
                  </div>
                </div>
              </section>
            </div>

          </div>
        </div>
      </section>
    </div>
  </div>
</div>
<div class="sidenav-overlay"></div>
<div class="drag-target"></div>
<%- include('../common/footer') %>


<script>
$(window).on('load', function() {
  if (feather) {
    feather.replace({
      width: 14,
      height: 14
    });
  }
})
</script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-validate/1.19.3/jquery.validate.min.js" integrity="sha512-37T7leoNS06R80c8Ulq7cdCDU5MNQBwlYoy1TX/WUsLFC2eYNqtKlV0QjH7r8JpG/S0GUMZwebnVFLPd6SU5yg==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>

<script>
$(document).ready(function() {

  jQuery.validator.addMethod("noSpace", function(value, element) {
    return value == '' || value.trim().length != 0;
  }, "No space please and don't leave it empty");

  jQuery.validator.addMethod("validImage", function(value, element, param) {
    return this.optional(element) || /\.(jpe?g|gif|png)$/i.test(value);
  }, 'Only valid image files (JPEG, GIF, PNG) are allowed.');

  jQuery.validator.addMethod("validMusic", function(value, element, param) {
    return this.optional(element) || /\.(mp3|wav|ogg|flac)$/i.test(value);
  }, 'Only valid music files (MP3, WAV, OGG, FLAC) are allowed.');

  $('#add_music').validate({
    rules: {

      basicSelect: {
        required: true
      },

      title: {
        required: true,
        noSpace: true,
        maxlength: 60
      },

      phone: {
        required: true,
        noSpace: true,
        maxlength: 15
      },

      cuisines: {
        required: true,
        noSpace: true
      },

      special_diets: {
        required: true,
        noSpace: true
      },

      descriptions: {
        required: true,
        noSpace: true
      },

      image: {
        required: true,
        validImage: true
      }
    },

    errorElement: "div",
    errorClass: "jqval-error",
    errorPlacement: function(error, element) {
      error.insertAfter(element);
      error.slideDown(400);
      error.animate({
        opacity: 1
      }, {
        queue: false,
        duration: 700
      });
    },

    submitHandler: function(form) {
      var error = $(".assign_error_div").text();
      if (!error) {
        form.submit();
      }
    }
  });
});
</script>

<script>
function park() {
  let optionValue = document.getElementById('basicSelect').value;

  if (optionValue == 2) {
    document.getElementById('cuisines_div').style.display = 'block'
    document.getElementById('special_div').style.display = 'block'
  } else {
    document.getElementById('cuisines_div').style.display = 'none'
    document.getElementById('special_div').style.display = 'none'
  }
}
</script>

